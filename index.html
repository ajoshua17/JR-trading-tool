<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">

<!-- IMPORTANT for Mobile Responsiveness -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>JR Trading Calculator Pro</title>

<style>
/* ===================================
   THEME VARIABLES
=================================== */
:root {
    --bg: #050505;
    --text: #00ffff;
    --card: #0d0d0d;
    --border: #00ffff;
    --glow: 0 0 15px #00ffff;
}

[data-theme="light"] {
    --bg: #f2f2f2;
    --text: #006666;
    --card: #ffffff;
    --border: #00cccc;
    --glow: 0 0 0;
}

/* ===================================
   GLOBAL STYLES
=================================== */
body {
    background: var(--bg);
    font-family: Arial, sans-serif;
    padding: 20px;
    margin: 0;
    color: var(--text);
    transition: 0.3s ease;
}

h2, h3 {
    text-align: center;
    color: var(--text);
    text-shadow: var(--glow);
}

/* ===================================
   RESPONSIVE MAIN BOX
=================================== */
.box {
    width: 100%;
    max-width: 480px;
    margin: auto;
    background: var(--card);
    padding: 20px;
    border-radius: 12px;
    border: 1px solid var(--border);
    box-shadow: var(--glow);
    box-sizing: border-box;
}

.toggle-box {
    width: 100%;
    max-width: 480px;
    margin: 10px auto 20px auto;
}

input, select {
    width: 100%;
    padding: 12px;
    margin: 10px 0;
    border-radius: 8px;
    border: 1px solid var(--border);
    background: transparent;
    color: var(--text);
    font-size: 16px;
    box-sizing: border-box;
}

button {
    width: 100%;
    padding: 12px;
    background: var(--text);
    color: #000;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    margin: 10px 0;
    cursor: pointer;
}

.result {
    background: transparent;
    border: 1px solid var(--border);
    padding: 12px;
    margin-top: 10px;
    border-radius: 8px;
    min-height: 20px;
}

</style>
</head>

<body>

<div class="toggle-box">
<button onclick="toggleTheme()">Toggle Dark/Light</button>
</div>

<div class="box">
<h2>JR Trading Calculator Pro</h2>

<label>Select Pair</label>
<select id="pair">

    <!-- Major Forex -->
    <option>EURUSD</option>
    <option>GBPUSD</option>
    <option>AUDUSD</option>
    <option>NZDUSD</option>
    <option>USDJPY</option>
    <option>USDCHF</option>
    <option>USDCAD</option>

    <!-- Minor Forex -->
    <option>EURGBP</option>
    <option>EURJPY</option>
    <option>GBPJPY</option>
    <option>AUDJPY</option>
    <option>CHFJPY</option>
    <option>EURAUD</option>
    <option>EURNZD</option>

    <!-- Metals -->
    <option>XAUUSD</option>
    <option>XAGUSD</option>

    <!-- Crypto -->
    <option>BTCUSD</option>
    <option>ETHUSD</option>

    <!-- Indices -->
    <option>US30</option>
    <option>NAS100</option>
    <option>SPX500</option>
    <option>GER40</option>
    <option>UK100</option>
    <option>JP225</option>

</select>

<label>Pips / Points</label>
<input type="number" id="pips">

<label>Lot Size</label>
<input type="number" id="lot" value="1">

<label>Pip Value ($)</label>
<input type="number" id="pipValue" readonly>

<button onclick="calculateProfit()">Calculate Profit</button>
<div id="profitResult" class="result"></div>

<hr style="border:1px solid var(--border); margin:20px 0;">

<h3>Position Size Calculator</h3>

<label>Account Balance ($)</label>
<input type="number" id="balance">

<label>Risk %</label>
<input type="number" id="risk">

<label>Stop Loss (pips)</label>
<input type="number" id="sl">

<button onclick="positionSize()">Calculate Position Size</button>
<div id="posResult" class="result"></div>

<hr style="border:1px solid var(--border); margin:20px 0;">

<h3>Tick → Pip Converter</h3>

<label>Ticks</label>
<input type="number" id="ticks">

<button onclick="convertTicks()">Convert</button>
<div id="tickResult" class="result"></div>

</div>

<script>

/* ================================
   AUTO PIP VALUE TABLE
================================ */
const pipValues = {

    /* Major Forex */
    "EURUSD": 10,
    "GBPUSD": 10,
    "AUDUSD": 10,
    "NZDUSD": 10,
    "USDJPY": 9.1,
    "USDCHF": 10,
    "USDCAD": 10,

    /* Minor Forex */
    "EURGBP": 10,
    "EURJPY": 9.1,
    "GBPJPY": 9.1,
    "AUDJPY": 9.1,
    "CHFJPY": 9.1,
    "EURAUD": 10,
    "EURNZD": 10,

    /* Metals */
    "XAUUSD": 1,
    "XAGUSD": 0.5,

    /* Crypto */
    "BTCUSD": 0.1,
    "ETHUSD": 0.1,

    /* Indices */
    "US30": 1,
    "NAS100": 1,
    "SPX500": 1,
    "GER40": 1,
    "UK100": 1,
    "JP225": 1
};

/* AUTO UPDATE PIP VALUE WHEN PAIR CHANGES */
document.getElementById("pair").addEventListener("change", function() {
    let pair = this.value;

    if (pipValues[pair] !== undefined) {
        document.getElementById("pipValue").value = pipValues[pair];
    }
});

/* SET DEFAULT ON LOAD */
document.getElementById("pipValue").value = pipValues["EURUSD"];

/* PROFIT CALCULATOR */
function calculateProfit() {
    let pips = parseFloat(document.getElementById("pips").value);
    let lot = parseFloat(document.getElementById("lot").value);
    let pair = document.getElementById("pair").value;
    let pipValue = pipValues[pair] || 10;

    if (isNaN(pips) || isNaN(lot)) {
        document.getElementById("profitResult").innerText = "Enter valid numbers.";
        return;
    }

    let profit = pips * lot * pipValue;
    document.getElementById("profitResult").innerText = "Profit: $" + profit.toFixed(2);
}

/* POSITION SIZE CALCULATOR */
function positionSize() {
    let bal = parseFloat(document.getElementById("balance").value);
    let risk = parseFloat(document.getElementById("risk").value);
    let sl = parseFloat(document.getElementById("sl").value);

    if (isNaN(bal) || isNaN(risk) || isNaN(sl)) {
        document.getElementById("posResult").innerText = "Enter valid numbers.";
        return;
    }

    let riskAmount = bal * (risk / 100);
    let pipValue = riskAmount / sl;

    document.getElementById("posResult").innerText =
        "Pip Value Needed: $" + pipValue.toFixed(2);
}

/* TICK → PIP */
function convertTicks() {
    let ticks = parseFloat(document.getElementById("ticks").value);

    if (isNaN(ticks)) {
        document.getElementById("tickResult").innerText = "Enter valid value.";
        return;
    }

    let pips = ticks / 10;
    document.getElementById("tickResult").innerText = pips + " pips";
}

/* THEME SWITCH */
function toggleTheme() {
    let theme = document.body.getAttribute("data-theme");
    document.body.setAttribute("data-theme", theme === "light" ? "dark" : "light");
}

</script>

</body>
</html>
