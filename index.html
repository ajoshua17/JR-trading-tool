<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>JR Trading Calculator Pro</title>

<style>
    :root {
        --bg: #050505;
        --text: #00ffff;
        --card: #0d0d0d;
        --border: #00ffff;
        --glow: 0 0 15px #00ffff;
    }
    [data-theme="light"] {
        --bg: #f2f2f2;
        --text: #006666;
        --card: #ffffff;
        --border: #00cccc;
        --glow: 0 0 0;
    }

    body {
        background: var(--bg);
        font-family: Arial, sans-serif;
        padding: 20px;
        color: var(--text);
        transition: 0.3s ease;
    }

    .box {
        max-width: 480px;
        margin: auto;
        background: var(--card);
        padding: 20px;
        border-radius: 15px;
        border: 1px solid var(--border);
        box-shadow: var(--glow);
        transition: 0.3s ease;
    }
    h2, h3 {
        text-align: center;
        color: var(--text);
        text-shadow: var(--glow);
    }
    label {
        display: block;
        margin-top: 10px;
        font-size: 14px;
        color: var(--text);
    }
    input, select {
        width: 100%;
        padding: 10px;
        margin: 8px 0;
        background: #111;
        border: 1px solid var(--border);
        border-radius: 8px;
        color: var(--text);
        font-size: 16px;
        box-shadow: inset var(--glow);
        transition: 0.3s ease;
    }
    [data-theme="light"] input, [data-theme="light"] select {
        background: #fff;
        color: #000;
        border: 1px solid #009999;
        box-shadow: none;
    }

    button {
        width: 100%;
        padding: 12px;
        background: var(--text);
        color: #000;
        font-weight: bold;
        border: none;
        border-radius: 8px;
        font-size: 18px;
        cursor: pointer;
        margin-top: 15px;
        box-shadow: var(--glow);
        transition: 0.3s ease;
    }
    button:hover {
        background: #00cccc;
    }

    .result {
        margin-top: 20px;
        background: #001f1f;
        padding: 15px;
        border-radius: 8px;
        text-align: center;
        font-size: 18px;
        border: 1px solid var(--border);
        box-shadow: var(--glow);
    }

    hr {
        margin: 25px 0;
        border-color: #033;
    }
</style>
</head>

<body data-theme="dark">

<div class="theme-toggle">
    <button onclick="toggleTheme()">Toggle Dark/Light</button>
</div>

<div class="box">
    <h2>JR Trading Calculator Pro</h2>

    <!-- PAIR SELECTION -->
    <label>Select Pair</label>
    <select id="pair" onchange="updatePipValue()">
        <!-- MAJORS -->
        <option value="EURUSD">EURUSD</option>
        <option value="GBPUSD">GBPUSD</option>
        <option value="AUDUSD">AUDUSD</option>
        <option value="NZDUSD">NZDUSD</option>
        <option value="USDJPY">USDJPY</option>
        <option value="USDCHF">USDCHF</option>
        <option value="USDCAD">USDCAD</option>

        <!-- MINORS -->
        <option value="AUDCAD">AUDCAD</option>
        <option value="AUDCHF">AUDCHF</option>
        <option value="AUDJPY">AUDJPY</option>
        <option value="AUDNZD">AUDNZD</option>
        <option value="CADCHF">CADCHF</option>
        <option value="CADJPY">CADJPY</option>
        <option value="CHFJPY">CHFJPY</option>
        <option value="EURAUD">EURAUD</option>
        <option value="EURCAD">EURCAD</option>
        <option value="EURCHF">EURCHF</option>
        <option value="EURGBP">EURGBP</option>
        <option value="EURJPY">EURJPY</option>
        <option value="EURNZD">EURNZD</option>
        <option value="GBPAUD">GBPAUD</option>
        <option value="GBPCAD">GBPCAD</option>
        <option value="GBPCHF">GBPCHF</option>
        <option value="GBPJPY">GBPJPY</option>
        <option value="GBPNZD">GBPNZD</option>
        <option value="NZDCAD">NZDCAD</option>
        <option value="NZDCHF">NZDCHF</option>
        <option value="NZDJPY">NZDJPY</option>

        <!-- METALS -->
        <option value="XAUUSD">XAUUSD</option>
        <option value="XAGUSD">XAGUSD</option>

        <!-- INDICES -->
        <option value="NAS100">NAS100</option>
        <option value="US30">US30</option>
        <option value="SPX500">SPX500</option>

        <!-- CRYPTO -->
        <option value="BTCUSD">BTCUSD</option>
        <option value="ETHUSD">ETHUSD</option>
    </select>

    <!-- INPUTS -->
    <label>Pips / Points</label>
    <input id="pips" type="number">

    <label>Lot Size</label>
    <input id="lot" type="number" value="1" step="0.01">

    <label>Pip Value</label>
    <input id="pipValue" type="number" step="0.0001">

    <button onclick="calcProfit()">Calculate Profit</button>
    <div id="profitOut" class="result"></div>

    <hr>

    <h3>Position Size Calculator</h3>
    <label>Account Balance ($)</label>
    <input id="balance" type="number">

    <label>Risk %</label>
    <input id="riskPercent" type="number">

    <label>Stop Loss (pips)</label>
    <input id="slPips" type="number">

    <button onclick="calcPositionSize()">Calculate Position Size</button>
    <div id="positionOut" class="result"></div>

    <hr>

    <h3>Tick â†’ Pip Converter</h3>
    <label>Ticks</label>
    <input id="ticks" type="number">

    <button onclick="convertTicks()">Convert</button>
    <div id="tickOut" class="result"></div>
</div>

<script>

/* THEME */
function toggleTheme() {
    document.body.dataset.theme =
        document.body.dataset.theme === "dark" ? "light" : "dark";
}

/* PIP VALUE LOGIC */
function updatePipValue() {
    let pair = document.getElementById("pair").value;
    let pipBox = document.getElementById("pipValue");

    let pip = 10; // default

    if (pair.includes("JPY")) pip = 9.1;

    if (pair === "XAUUSD") pip = 1;
    if (pair === "XAGUSD") pip = 0.5;

    if (pair === "NAS100" || pair === "US30" || pair === "SPX500") pip = 1;

    if (pair === "BTCUSD") pip = 0.1;
    if (pair === "ETHUSD") pip = 0.05;

    pipBox.value = pip;
}

/* PROFIT */
function calcProfit() {
    let profit =
        parseFloat(pips.value) *
        parseFloat(lot.value) *
        parseFloat(pipValue.value);

    profitOut.innerHTML = "Profit: $" + profit.toFixed(2);
}

/* POSITION SIZE */
function calcPositionSize() {
    let riskAmount = balance.value * (riskPercent.value / 100);
    let lotSize = riskAmount / (slPips.value * pipValue.value);
    positionOut.innerHTML = "Lot Size: " + lotSize.toFixed(2);
}

/* TICKS */
function convertTicks() {
    tickOut.innerHTML =
        ticks.value + " ticks = " + (ticks.value / 10) + " pips";
}

updatePipValue();
</script>

</body>
</html>